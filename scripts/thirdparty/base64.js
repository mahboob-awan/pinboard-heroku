define(function(){var a={},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(a){a=escape(a);var c="",d,e,f="",g,h,i,j="",k=0;do d=a.charCodeAt(k++),e=a.charCodeAt(k++),f=a.charCodeAt(k++),g=d>>2,h=(d&3)<<4|e>>4,i=(e&15)<<2|f>>6,j=f&63,isNaN(e)?i=j=64:isNaN(f)&&(j=64),c=c+b.charAt(g)+b.charAt(h)+b.charAt(i)+b.charAt(j),d=e=f="",g=h=i=j="";while(k<a.length);return c},a.decode64=function(a){var c="",d,e,f="",g,h,i,j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;!l.exec(a),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do g=b.indexOf(a.charAt(k++)),h=b.indexOf(a.charAt(k++)),i=b.indexOf(a.charAt(k++)),j=b.indexOf(a.charAt(k++)),d=g<<2|h>>4,e=(h&15)<<4|i>>2,f=(i&3)<<6|j,c=c+String.fromCharCode(d),i!=64&&(c=c+String.fromCharCode(e)),j!=64&&(c=c+String.fromCharCode(f)),d=e=f="",g=h=i=j="";while(k<a.length);return unescape(c)};return a})